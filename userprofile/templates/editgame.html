{% extends "base.html" %}

{% block content %}

    <title>{% block title %} | Edit {{ game.title }}{% endblock %}</title>

    <form action="/userprofile/editGame/{{ game.id }}/" method="post" enctype="multipart/form-data">{% csrf_token %}
        <h2>Edit Game</h2>
        {% for field in form.visible_fields %}
            <div class="fieldWrapper">
                <div class="formfielderrors">{{ field.errors.as_text }}</div>
                {{ field.label_tag }}
                <br>
                {{ field }}
                <br><br>
            </div>
        {% endfor %}
        <input type="submit" value="Save" class="greenButton">
        <input onclick="deleteGame()" class="redButton" value="Delete" type="submit" name="delete">
        <input id="deleteGameBool" type="hidden">
    </form>

{% endblock content %}

    {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
    <form id="editgameform" action="/userprofile/editGame/{{ game.id }}/" method="post">{% csrf_token %}
        <h2>Edit Game</h2>
        <input id="id_user" name="user" type="hidden" value="{{ user.id }}">
        <label for="id_title">Title:</label>
        <br>
        <input id="id_title" name="title" type="text" value="{{ game.title }}">
        <br><br>
        <label for="id_image">Image:</label>
        <br>
        <input id="id_image" name="image" accept="image/*" type="file">
        <br><br>
        <label for="id_description">Description:</label>
        <br>
        <input id="id_description" type="text" name="description" value="{{ game.description }}">
        <br><br>
        <label for="id_requirements">Requirements:</label>
        <br>
        <input id="id_requirements" type="text" name="requirements" value="{{ game.requirements }}">
        <br><br>
        <label for="id_code">Code:</label>
        <br>
        <textarea id="id_code" name="code">{{ game.code }}</textarea>
        <br><br>
        <input type="submit" value="Save">
    </form>